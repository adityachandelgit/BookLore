<div *ngIf="userService.userState$ | async as userData">
  <div class="rounded-xl overflow-hidden">
    <p-tabs [(value)]="activeTab" scrollable>
      <p-tablist>
        <p-tab [value]="SettingsTab.ReaderSettings">Reader Preferences</p-tab>
        <p-tab [value]="SettingsTab.ViewPreferences">View Preferences</p-tab>
        <ng-container *ngIf="userData.permissions.admin">
          <p-tab [value]="SettingsTab.AdminSettings">Admin Settings</p-tab>
          <p-tab [value]="SettingsTab.UserManagement">User Management</p-tab>
          <p-tab [value]="SettingsTab.EmailSettings">Email Setting</p-tab>
          <p-tab [value]="SettingsTab.AuthenticationSettings">Authentication Settings</p-tab>
        </ng-container>
      </p-tablist>

      <p-tabpanels>
        <p-tabpanel [value]="SettingsTab.ReaderSettings">
          <app-reader-preferences></app-reader-preferences>
        </p-tabpanel>
        <p-tabpanel [value]="SettingsTab.ViewPreferences">
          <app-view-preferences-parent></app-view-preferences-parent>
        </p-tabpanel>
        <ng-container *ngIf="userData.permissions.admin">
          <p-tabpanel [value]="SettingsTab.AdminSettings">
            <app-global-preferences></app-global-preferences>
          </p-tabpanel>
          <p-tabpanel [value]="SettingsTab.UserManagement">
            <app-user-management></app-user-management>
          </p-tabpanel>
          <p-tabpanel [value]="SettingsTab.EmailSettings">
            <app-email></app-email>
          </p-tabpanel>
          <p-tabpanel [value]="SettingsTab.AuthenticationSettings">
            <app-authentication-settings></app-authentication-settings>
          </p-tabpanel>
        </ng-container>
      </p-tabpanels>
    </p-tabs>
  </div>
</div>
